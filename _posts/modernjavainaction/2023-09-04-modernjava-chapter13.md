---
title: "[λ¨λ μλ°” μΈ μ•΅μ…] 13. λ””ν΄νΈ λ©”μ„λ“(Default Method)"
categories: [Modern Java in Action]
tag: ["Java"]
author_profile: false
sidebar:
    nav: "counts"
---

> Reference
>
> [λ¨λ μλ°” μΈ μ•΅μ…: λλ‹¤, μ¤νΈλ¦Ό, ν•¨μν•, λ¦¬μ•΅ν‹°λΈ ν”„λ΅κ·Έλλ°μΌλ΅ μƒλ΅μ›μ§„ μλ°” λ§μ¤ν„°ν•κΈ°](https://www.yes24.com/Product/Goods/77125987?pid=123487&cosemkid=go15646485055614872&gclid=Cj0KCQjw2qKmBhCfARIsAFy8buL-QGAkh5m5YK8mj5vAgRgCKdSRIHzDDWdAYOLPFSuQNlzVVcFFdbYaAsh1EALw_wcB)

<br>

μ „ν†µμ μΈ μλ°”μ—μ„ μΈν„°νμ΄μ¤μ™€ κ΄€λ ¨ λ©”μ„λ“λ” ν• λΈμ²λΌ κµ¬μ„±λλ‹¤. μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μ½ν¬λ¦¬νΈ ν΄λμ¤λ” μΈν„°νμ΄μ¤μ— μ •μλ λ¨λ“  λ©”μ„λ“λ¥Ό κµ¬ν„ν•κ±°λ‚ μνΌ ν΄λμ¤μ κµ¬ν„μ„ μƒμ†λ°›μ•„μ•Ό ν•λ‹¤.

ν‰μ†μ—λ” μ•„λ¬΄ λ¬Έμ  μ—†μ§€λ§ μ—¬κΈ°μ„ μΈν„°νμ΄μ¤μ— μƒλ΅μ΄ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λ¨λ“  μ½ν¬λ¦¬νΈ ν΄λμ¤λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤.

Java 8μ—μ„λ” μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” μƒλ΅μ΄ κΈ°λ¥μ„ μ κ³µν•λ‹¤. Java 8μ€ κΈ°λ³Έ κµ¬ν„μ„ ν¬ν•¨ν•λ” μΈν„°νμ΄μ¤λ¥Ό μ •μν•λ” λ‘ κ°€μ§€ λ°©λ²•μ„ μ κ³µν•λ‹¤

1. μΈν„°νμ΄μ¤ λ‚΄λ¶€μ— **μ •μ  λ©”μ„λ“(static method)**λ¥Ό μ‚¬μ©
   - μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ¥Ό λ”°λ΅ μ‘μ„±ν•  ν•„μ” μ—†μ΄ μΈν„°νμ΄μ¤ λ‚΄λ¶€μ—μ„ ν•΄κ²° κ°€λ¥
2. μΈν„°νμ΄μ¤μ κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•  μ μλ„λ΅ **λ””ν΄νΈ λ©”μ„λ“(default method)** κΈ°λ¥μ„ μ‚¬μ©

μ¦‰, Java 8μ€ λ©”μ„λ“ κµ¬ν„μ„ ν¬ν•¨ν•λ” μΈν„°νμ΄μ¤λ¥Ό μ •μν•  μ μλ‹¤. κ²°κ³Όμ μΌλ΅ κΈ°μ΅΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ” μλ™μΌλ΅ μ¶”κ°€λ μƒλ΅μ΄ λ©”μ„λ“μ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μƒμ†λ°›κ² λλ‹¤.

List μΈν„°νμ΄μ¤μ sort λ©”μ„λ“λ” Java 8μ—μ„ μƒλ΅ μ¶”κ°€λ λ©”μ„λ“λ‹¤. default ν‚¤μ›λ“κ°€ ν•΄λ‹Ή λ©”μ„λ“κ°€ λ””ν΄νΈ λ©”μ„λ“μ„μ„ κ°€λ¦¬ν‚¤λ” ν‚¤μ›λ“μ΄λ‹¤.

<center><img src="/assets/images/modernjavainaction/ch13/1.png"></center>

κ·Έλ ‡λ‹¤λ©΄ λ””ν΄νΈ λ©”μ„λ“κ°€ μ¶”κ°€λλ©΄μ„ μΈν„°νμ΄μ¤μ™€ μ¶”μƒ ν΄λμ¤μ κ²½κ³„κ°€ λ¨νΈν•΄μ§„ κ²ƒμ€ μ•„λ‹κ°€? μΈν„°νμ΄μ¤μ™€ μ¶”μƒ ν΄λμ¤λ” κ°™μ€ μ μ΄ λ§μ•„ μ΅μ§€λ§ μ—¬μ „ν λ‹¤λ¥Έ μ (μΈμ¤ν„΄μ¤ ν•„λ“μ μ΅΄μ¬ μ λ¬΄, μƒμ† λ¬Έμ )λ„ μ΅΄μ¬ν•λ‹¤.

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” μ΄μ λ” Java APIμ νΈν™μ„±μ„ μ μ§€ν•λ©΄μ„ λΌμ΄λΈλ¬λ¦¬λ¥Ό λ°”κΏ€ μ μκΈ° λ•λ¬Έμ΄λ‹¤. λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ©΄ μΈν„°νμ΄μ¤μ κΈ°λ³Έ κµ¬ν„μ„ κ·Έλ€λ΅ μƒμ†ν•λ―€λ΅ μΈν„°νμ΄μ¤μ— μμ λ΅­κ² λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μκ² λλ‹¤. λ λ””ν΄νΈ λ©”μ„λ“λ” λ‹¤μ¤‘ μƒμ† λ™μ‘μ΄λΌλ” μ μ—°μ„±μ„ μ κ³µν•΄ ν”„λ΅κ·Έλ¨ κµ¬μ„±μ—λ„ λ„μ›€μ„ μ¤€λ‹¤. μ΄μ  ν΄λμ¤λ” μ—¬λ¬ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μƒμ†λ°›μ„ μ μκ² λμ—λ‹¤.

> **μ •μ  λ©”μ„λ“(static method)μ™€ μΈν„°νμ΄μ¤**
>
> λ³΄ν†µ μλ°”λ” μΈν„°νμ΄μ¤μ™€ μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ¥Ό ν™μ©ν•  μ μλ” λ‹¤μ–‘ν• μ •μ  λ©”μ„λ“λ¥Ό μ •μν• μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ¥Ό ν™μ©ν•λ‹¤. μλ¥Ό λ“¤μ–΄ Collections ν΄λμ¤λ” Collection κ°μ²΄λ¥Ό ν™μ©ν•  μ μλ” μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ‹¤.
>
> Java 8λ¶€ν„°λ” μΈν„°νμ΄μ¤μ— μ§μ ‘ μ •μ  λ©”μ„λ“λ¥Ό μ„ μ–Έν•  μ μμ–΄ μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ¥Ό μ—†μ• κ³  μ§μ ‘ μΈν„°νμ΄μ¤ λ‚΄λ¶€μ— μ •μ  λ©”μ„λ“λ¥Ό κµ¬ν„ν•  μ μλ‹¤.

<br>

# π“ λ³€ν™”ν•λ” API

Java κ·Έλ¦¬κΈ° λΌμ΄λΈλ¬λ¦¬ μ„¤κ³„μκ°€ λμ—λ‹¤κ³  κ°€μ •ν•λ‹¤. ν•΄λ‹Ή λΌμ΄λΈλ¬λ¦¬μ—λ” λ¨μ–‘μ ν¬κΈ°λ¥Ό μ΅°μ ν•λ” λ° ν•„μ”ν• λ©”μ„λ“λ“¤μ΄ μλ” Resizable μΈν„°νμ΄μ¤κ°€ μλ‹¤. κ·ΈλΏ μ•„λ‹λΌ μ •μ‚¬κ°ν•, μ§μ‚¬κ°ν• κ°™μ€ μ„ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ„ μ κ³µν•λ‹¤. λΌμ΄λΈλ¬λ¦¬κ°€ μΈκΈ°λ¥Ό μ–»μ–΄ Ellipse λΌλ” νƒ€μ›ν• κ΄€λ ¨ ν΄λμ¤λ¥Ό κµ¬ν„ν•κΈ°λ΅ κ²°μ •λμ—λ‹¤.

λ λ‡ κ°€μ§€ κΈ°λ¥μ΄ λ¶€μ΅±ν•΄ κΈ°λ¥μ„ μ¶”κ°€ν•κΈ°λ΅ κ²°μ •μ΄ λ‚¬λ‹¤. μƒλ΅μ΄ κΈ°λ¥μ„ μ¶”κ°€ν•΄ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ¬λ°°ν¬ν•λ©΄ λ¨λ“  λ¬Έμ κ°€ ν•΄κ²°λ κΉ? λΌμ΄λΈλ¬λ¦¬ μμ²΄μ λ¬Έμ λ” ν•΄κ²°λμ—μ§€λ§ μ‚¬μ©μκ°€ λΌμ΄λΈλ¬λ¦¬ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν–λ‹¤λ©΄ λ¬Έμ κ°€ λ°μƒν•λ‹¤.

- λΌμ΄λΈλ¬λ¦¬μ μ΄κΈ° λ²„μ „: v1

```java
public interface Resizable extends Drawable {

	int getWidth();

	int getHeight();

	void setWidth(int width);

	void setHeight(int height);

	void setAbsoluteSize(int width, int height);
	
}
```

- κ°μ„ λ λΌμ΄λΈλ¬λ¦¬ λ²„μ „: v2

```java
public interface Resizable extends Drawable {

	int getWidth();

	int getHeight();

	void setWidth(int width);

	void setHeight(int height);

	void setAbsoluteSize(int width, int height);
	
	void setRelativeSize(int width, int height); // μ¶”κ°€λ κΈ°λ¥

}
```

## μ‚¬μ©μκ°€ κ²λ” λ¬Έμ 

λ¨Όμ € Resizable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λ¨λ“  ν΄λμ¤λ” μ¶”κ°€λ `setRelativeSize()`λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤. μΈν„°νμ΄μ¤μ— μƒλ΅μ΄ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ **λ°”μ΄λ„λ¦¬ νΈν™μ„±**μ€ μ μ§€λλ‹¤. λ°”μ΄λ„λ¦¬ νΈν™μ„±μ€ μƒλ΅ μ¶”κ°€λ λ©”μ„λ“λ¥Ό νΈμ¶ν•μ§€λ§ μ•μΌλ©΄ μƒλ΅μ΄ λ©”μ„λ“μ κµ¬ν„ μ—†μ΄ κΈ°μ΅΄ ν΄λμ¤ νμΌ κµ¬ν„μ΄ μ λ™μ‘ν•λ‹¤λ” μλ―Έλ‹¤. ν•μ§€λ§ μ–Έμ  κ°€ μ¶”κ°€λ λ©”μ„λ“κ°€ νΈμ¶λλ” μΌμ΄ λ°μƒν•λ―€λ΅ λ¬Έμ κ°€ λ°μƒν•λ‹¤.

λ μ „μ²΄ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ¬λΉλ“ν•λ©΄ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤. κ³µκ°λ APIκ°€ μμ •λλ©΄ κΈ°μ΅΄ λ²„μ „κ³Όμ νΈν™μ„± λ¬Έμ κ°€ λ°μƒν•λ‹¤. μ΄λ° μ΄μ  λ•λ¬Έμ— κΈ°μ΅΄ APIλ¥Ό κ³ μΉλ” κ²ƒμ΄ μ–΄λ µλ‹¤.

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ©΄ μ΄ λ¨λ“  λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤. λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•΄ APIλ¥Ό λ°”κΎΈλ©΄ μƒλ΅­κ² λ°”λ€ μΈν„°νμ΄μ¤μ—μ„ μλ™μΌλ΅ κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•λ―€λ΅ κΈ°μ΅΄ μ½”λ“λ¥Ό κ³ μΉμ§€ μ•μ•„λ„ λλ‹¤.

## λ°”μ΄λ„λ¦¬ νΈν™μ„±, μ†μ¤ νΈν™μ„±, λ™μ‘ νΈν™μ„±

Java ν”„λ΅κ·Έλ¨μ„ λ°”κΎΈλ” κ²ƒκ³Ό κ΄€λ ¨λ νΈν™μ„± λ¬Έμ λ” ν¬κ² λ°”μ΄λ„λ¦¬ νΈν™μ„±, μ†μ¤ νΈν™μ„±, λ™μ‘ νΈν™μ„± μ„Έ κ°€μ§€λ΅ λ¶„λ¥ν•  μ μλ‹¤.

μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν–μ„ λ•λ” λ°”μ΄λ„λ¦¬ νΈν™μ„±μ„ μ μ§€ν•μ§€λ§ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ¥Ό μ¬μ»΄νμΌν•λ©΄ μ—λ¬κ°€ λ°μƒν•λ‹¤. μ¦‰, λ‹¤μ–‘ν• νΈν™μ„±μ΄ μλ‹¤λ” μ‚¬μ‹¤μ„ μ΄ν•΄ν•΄μ•Ό ν•λ‹¤.

- λ°”μ΄λ„λ¦¬ νΈν™μ„±: λ³€κ²½ μ΄ν›„μ—λ„ μ—λ¬ μ—†μ΄ κΈ°μ΅΄ λ°”μ΄λ„λ¦¬κ°€ μ‹¤ν–‰λ  μ μλ” μƒν™©
  - λ°”μ΄λ„λ¦¬ μ‹¤ν–‰μ—λ” μΈμ¦(verification), μ¤€λΉ„(preparation), ν•΄μ„(resolution) λ“±μ κ³Όμ •μ΄ ν¬ν•¨λ¨
  - μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν–μ„ λ• μ¶”κ°€λ λ©”μ„λ“λ¥Ό νΈμ¶ν•μ§€ μ•λ” ν• λ¬Έμ κ°€ μΌμ–΄λ‚μ§€ μ•λ” κ²½μ°κ°€ λ°”μ΄λ„λ¦¬ νΈν™μ„±μ„
- μ†μ¤ νΈν™μ„±: μ½”λ“λ¥Ό κ³ μ³λ„ κΈ°μ΅΄ ν”„λ΅κ·Έλ¨μ„ μ„±κ³µμ μΌλ΅ μ¬μ»΄νμΌν•  μ μλ” μƒν™©
- λ™μ‘ νΈν™μ„±: μ½”λ“λ¥Ό λ°”κΎΌ λ‹¤μμ—λ„ κ°™μ€ μ…λ ¥κ°’μ΄ μ£Όμ–΄μ§€λ©΄ ν”„λ΅κ·Έλ¨μ΄ κ°™μ€ λ™μ‘μ„ μ‹¤ν–‰ν•λ” μƒν™©
  - μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•΄λ„ ν”„λ΅κ·Έλ¨μ—μ„ μ¶”κ°€λ λ©”μ„λ“λ¥Ό νΈμ¶ν•  μΌμ΄ μ—†μΌλ©΄ λ™μ‘ νΈν™μ„±μ΄ μ μ§€λ¨

<br>

# π“ λ””ν΄νΈ λ©”μ„λ“(Default Method)λ€?

- **λ””ν΄νΈ λ©”μ„λ“**: νΈν™μ„±μ„ μ μ§€ν•λ©΄μ„ APIλ¥Ό λ°”κΏ€ μ μλ„λ΅ ν•λ” κΈ°λ¥

μΈν„°νμ΄μ¤λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό λ„μ…ν•΄ κµ¬ν„ ν΄λμ¤μ—μ„ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ„ μ μλ” μƒλ΅μ΄ λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό μ κ³µν•λ‹¤. μΈν„°νμ΄μ¤ μμ²΄μ—μ„ κΈ°λ³ΈμΌλ΅ μ κ³µν•κΈ° λ•λ¬Έμ— λ””ν΄νΈ λ©”μ„λ“λΌ ν•λ‹¤.

**default**λΌλ” ν‚¤μ›λ“λ΅ μ‹μ‘ν•λ©΄ λ””ν΄νΈ λ©”μ„λ“μ΄κ³ , λ‹¤λ¥Έ ν΄λμ¤μ—μ„ μ„ μ–Έλ λ©”μ„λ“μ²λΌ λ©”μ„λ“ λ°”λ””λ¥Ό ν¬ν•¨ν•κ³  μλ‹¤. λ””ν΄νΈ λ©”μ„λ“κ°€ μμΌλ©΄ ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤λ” λ””ν΄νΈ λ©”μ„λ“μ κµ¬ν„λ„ μƒμ†λ°›μ•„ **μ†μ¤ νΈν™μ„±μ΄ μ μ§€**λλ‹¤.

μ΄μ  λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•΄ κ·Έλ¦¬κΈ° λΌμ΄λΈλ¬λ¦¬μ λ¬Έμ λ¥Ό ν•΄κ²°ν• v3λ¥Ό κµ¬ν„ν•  μ μλ‹¤. μ΄μ  API μ„¤κ³„μλ“¤μ€ μ‚¬μ©μλ“¤μ νΈν™μ„±μ„ μ μ§€ν•λ©΄μ„ κ³ μΉ  μ μκ³ , μ‚¬μ©μλ“¤μ€ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ¥Ό κ³ μΉ  ν•„μ”κ°€ μ—†μ–΄μ΅λ‹¤.

- λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ μ©ν• λΌμ΄λΈλ¬λ¦¬ λ²„μ „: v3

```java
public interface Resizable extends Drawable {

	int getWidth();

	int getHeight();

	void setWidth(int width);

	void setHeight(int height);

	void setAbsoluteSize(int width, int height);

	default void setRelativeSize(int wFactor, int hFactor) {
		setAbsoluteSize(getWidth() / wFactor, getHeight() / hFactor);
	}

}
```

Java 8μ APIμ—μ„ λ””ν΄νΈ λ©”μ„λ“κ°€ μƒλ‹Ήν λ§μ΄ ν™μ©λ κ²ƒμ„ ν™•μΈν•  μ μλ‹¤. μƒλ΅­κ² μ¶”κ°€λ κΈ°λ¥λ“¤μ€ λ””ν΄νΈ λ©”μ„λ“λ΅ μ‘μ„±λμ—κ³ , ν•¨μν• μΈν„°νμ΄μ¤λ„ λ‹¤μ–‘ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό ν¬ν•¨ν•κ³  μλ‹¤. **λ””ν΄νΈ λ©”μ„λ“λ” μ¶”μƒ λ©”μ„λ“μ— ν•΄λ‹Ήν•μ§€ μ•μΌλ―€λ΅** ν•¨μν• μΈν„°νμ΄μ¤μ— μ¶”κ°€ν•΄λ„ λλ‹¤.

> ν•¨μν• μΈν„°νμ΄μ¤μ— λ””ν΄νΈ λ©”μ„λ“μ™€ μ •μ  λ©”μ„λ“λ¥Ό μ¶”κ°€ν•΄λ„ μƒκ΄€ μ—†μ. μ¶”μƒ λ©”μ„λ“(abstract method)κ°€ ν•λ‚λ§ μ΅΄μ¬ν•λ©΄ λ¨

λ§μ•½ λ¨λ“  μ»¬λ ‰μ…μ—μ„ μ‚¬μ©ν•  μ μλ” `removeIf()` λ©”μ„λ“λ¥Ό μ¶”κ°€ν•΄λ‹¬λΌλ” μ”μ²­μ΄ μ¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ κµ¬ν„ν•λ©΄ λλ‹¤.

```java
public interface Collection<E> extends Iterable<E> {

	...

	default boolean removeIf(Predicate<? super E> filter) {
		boolean removed = false;
		final Iterator<E> each = iterator();

		while (each.hasNext()) {
			if (filter.test(each.next())) {
				each.remove();
				removed = true;
			}
		}

		return removed;
}
```

## μ¶”μƒ ν΄λμ¤(abstract class) vs Java 8 μΈν„°νμ΄μ¤

μ¶”μƒ ν΄λμ¤μ™€ μΈν„°νμ΄μ¤μ μ°¨μ΄μ μ€ λ¬΄μ—‡μΌκΉ? λ‘ λ‹¤ μ¶”μƒ λ©”μ„λ“μ™€ λ°”λ””λ¥Ό ν¬ν•¨ν•λ” λ©”μ„λ“λ¥Ό μ •μν•  μ μμ–΄ ν° μ°¨μ΄μ μ΄ μ—†μ–΄ λ³΄μΈλ‹¤. ν•μ§€λ§ λ‘ κ°€μ§€ ν° μ°¨μ΄μ μ΄ μ΅΄μ¬ν•λ‹¤.

1. ν΄λμ¤λ” **ν•λ‚μ μ¶”μƒ ν΄λμ¤λ§ μƒμ†**λ°›μ„ μ μμ§€λ§ **μΈν„°νμ΄μ¤λ” μ—¬λ¬ κ°λ¥Ό κµ¬ν„**ν•  μ μλ‹¤
2. μ¶”μƒ ν΄λμ¤λ” **μΈμ¤ν„΄μ¤ λ³€μ(ν•„λ“)λ΅ κ³µν†µ μƒνƒ**λ¥Ό κ°€μ§ μ μμ§€λ§ **μΈν„°νμ΄μ¤λ” μΈμ¤ν„΄μ¤ λ³€μλ¥Ό κ°€μ§ μ μ—†λ‹¤**.

<br>

# π“ λ””ν΄νΈ λ©”μ„λ“ ν™μ© ν¨ν„΄

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ” **μ„ νƒν• λ©”μ„λ“(optional method)**μ™€ **λ™μ‘ λ‹¤μ¤‘ μƒμ†(multiple inheritance of behavior)** λ‘ κ°€μ§€ λ°©μ‹μ„ μ‚΄ν΄λ³Έλ‹¤.

## μ„ νƒν• λ©”μ„λ“(Optional Method)

μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ—μ„ λ©”μ„λ“μ λ‚΄μ©μ΄ λΉ„μ–΄μλ” μƒν™©μ΄ μλ‹¤. μλ¥Ό λ“¤μ–΄ Javaμ Iterator μΈν„°νμ΄μ¤λ” `hasNext()`, `next()`, `remove()`λ¥Ό μ κ³µν•κ³  μμ—λ‹¤. κ·Έλ°λ° remove κΈ°λ¥μ€ μ μ‚¬μ©ν•μ§€ μ•μ•„ Java 8 μ΄μ „μ—λ” ν•΄λ‹Ή κΈ°λ¥μ„ λ¬΄μ‹ν–λ‹¤. κ²°κ³Όμ μΌλ΅ Iteratorλ¥Ό κµ¬ν„ν• λ§μ€ ν΄λμ¤μ—μ„λ” removeμ— λΉ κµ¬ν„μ„ μ κ³µν–λ‹¤.

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ©΄ remove κ°™μ€ λ©”μ„λ“μ— κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•  μ μμ–΄ κµ¬ν„ ν΄λμ¤μ—μ„ λΉ κµ¬ν„μ„ μ κ³µν•  ν•„μ”κ°€ μ—†λ‹¤. μ‹¤μ λ΅ Java 8μ—μ„λ” removeλ¥Ό λ””ν΄νΈ λ©”μ„λ“λ΅ λ³€κ²½ν•΄ μ κ³µν•κΈ° μ‹μ‘ν–λ‹¤.

<center><img src="/assets/images/modernjavainaction/ch13/2.png"></center>

- **κΈ°λ³Έ κµ¬ν„μ΄ μ κ³µλμ–΄ κµ¬ν„ ν΄λμ¤λ” λ¶ν•„μ”ν• μ½”λ“λ¥Ό μ¤„μΌ μ μλ‹¤**

## λ™μ‘ λ‹¤μ¤‘ μƒμ†**(Multiple Inheritance of Behavior)**

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄μ— λ¶κ°€λ¥ν–λ λ™μ‘ λ‹¤μ¤‘ μƒμ† κΈ°λ¥λ„ κµ¬ν„ν•  μ μλ‹¤. ν΄λμ¤λ” λ‹¤μ¤‘ μƒμ†μ„ μ΄μ©ν•΄ κΈ°μ΅΄ μ½”λ“λ¥Ό μ¬μ‚¬μ©ν•  μ μλ‹¤.

Javaμ—μ„ ν΄λμ¤λ” ν• κ°μ λ‹¤λ¥Έ ν΄λμ¤λ§ μƒμ†ν•  μ μμ§€λ§ μΈν„°νμ΄μ¤λ” μ—¬λ¬ κ° κµ¬ν„ν•  μ μλ‹¤.

### λ‹¤μ¤‘ μƒμ† ν•μ‹

<center><img src="/assets/images/modernjavainaction/ch13/3.png"></center>

ArrayListλ” ν• κ°μ ν΄λμ¤λ¥Ό μƒμ† λ°›κ³  μ—¬μ„― κ°μ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ‹¤. λ”°λΌμ„ ArrayListλ” AbstracList, List, RandomAccess λ“±μ **μ„λΈν•μ‹(subtype)**μ΄ λλ‹¤. λ”°λΌμ„ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ§€ μ•μ•„λ„ λ‹¤μ¤‘ μƒμ†μ„ ν™μ©ν•  μ μλ‹¤.

Java 8μ€ μΈν„°νμ΄μ¤κ°€ κµ¬ν„μ„ ν¬ν•¨ν•  μ μμ–΄ ν• ν΄λμ¤κ°€ μ—¬λ¬ μΈν„°νμ΄μ¤μ—μ„ λ™μ‘(κµ¬ν„ μ½”λ“)μ„ μƒμ†λ°›μ„ μ μλ‹¤. μ¦‰, μ¤‘λ³µλμ§€ μ•λ” μµμ†ν•μ μΈν„°νμ΄μ¤λ¥Ό μ μ§€ν•λ©΄ λ™μ‘μ„ μ‰½κ² μ¬μ‚¬μ©ν•κ³  μ΅°ν•©ν•  μ μλ‹¤

κΈ°λ¥μ΄ μ¤‘λ³µλμ§€ μ•λ” μΈν„°νμ΄μ¤λ“¤μ„ μ΅°ν•©ν•΄μ„ ν• ν΄λμ¤κ°€ μƒμ† λ°›μΌλ©΄ μ›ν•λ” κΈ°λ¥μ„ λ”°λ΅ κµ¬ν„ν•  ν•„μ” μ—†μ΄ μ‚¬μ©ν•  μ μλ‹¤. λ μ–΄λ–¤ κΈ°λ¥μ„ μΆ€ λ” ν¨μ¨μ μΌλ΅ κ³ μΉλ‹¤λ©΄ λ”°λ΅ κµ¬ν„ ν΄λμ¤μ—μ„ μ¤λ²„λΌμ΄λ”© ν•μ§€ μ•μ€ μ΄μƒ μλ™μΌλ΅ λ³€κ²½ν• μ½”λ“λ¥Ό μƒμ†λ°›μ•„ μ‚¬μ©ν•  μ μλ‹¤. μ¦‰, λ³€ν™”μ— μ‰½κ² λ€μ‘ν•  μ μκ² λλ‹¤

### μ³μ§€ λ»ν• μƒμ†

μƒμ†μΌλ΅ λ¨λ“  μ½”λ“ μ¬μ‚¬μ© λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ” κ²ƒμ€ μ•„λ‹λ‹¤. λ§μ•½ ν• κ°μ λ©”μ„λ“λ¥Ό μ¬μ‚¬μ©ν•κΈ° μ„ν•΄ 100κ°μ λ©”μ„λ“μ™€ ν•„λ“κ°€ μ •μλμ–΄ μλ” ν΄λμ¤λ¥Ό μƒμ†λ°›λ” κ²ƒμ€ μΆ‹μ€ μƒμ†μ΄ μ•„λ‹λ‹¤.

μ΄λ΄ λ•λ” λΈλ¦¬κ²μ΄μ…(delegation), μ¦‰ λ©¤λ²„ λ³€μλ¥Ό μ΄μ©ν•΄ ν΄λμ¤μ—μ„ ν•„μ”ν• λ©”μ„λ“λ¥Ό μ§μ ‘ νΈμ¶ν•λ” λ©”μ„λ“λ¥Ό μ‘μ„±ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. (μƒμ† λ³΄λ‹¤λ” μ„μ„μ„ μ‚¬μ©ν•λ‹¤)

μΆ…μΆ… finalλ΅ μ„ μ–Έλ ν΄λμ¤λ¥Ό λ³Ό μ μλ”λ°, μ΄λ° ν΄λμ¤λ” μƒμ†μ„ ν—μ©ν•μ§€ μ•μ•„ μ›λ λ™μ‘μ΄ λ°”λ€μ§€ μ•κΈΈ μ›ν•λ‹¤.

<center><img src="/assets/images/modernjavainaction/ch13/4.png"></center>

- Javaμ String ν΄λμ¤κ°€ finalλ΅ μ„ μ–Έν•΄ ν•µμ‹¬ κΈ°λ¥μ„ λ°”κΎΈμ§€ λ»ν•λ„λ΅ μ ν•

μ΄λ° κ·μΉ™μ„ λ””ν΄νΈ λ©”μ„λ“μ—λ„ μ μ©ν•  μ μλ‹¤. ν•„μ”ν• κΈ°λ¥λ§ ν¬ν•¨ν•λ„λ΅ μΈν„°νμ΄μ¤λ¥Ό μµμ†ν•μΌλ΅ μ μ§€ν•λ‹¤λ©΄ ν•„μ”ν• κΈ°λ¥λ§ μ„ νƒν•  μ μμ–΄ μ‰½κ² κΈ°λ¥μ„ μ΅°λ¦½ν•  μ μλ‹¤.

<br>

# π“ ν•΄μ„ κ·μΉ™

λ§μ•½ μ–΄λ–¤ ν΄λμ¤κ°€ κ°™μ€ λ””ν΄νΈ λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό ν¬ν•¨ν•λ” λ‘ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” μƒν™©μ΄λΌλ©΄ μ–΄λ–»κ² λ κΉ? ν΄λμ¤λ” μ–΄λ–¤ μΈν„°νμ΄μ¤μ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•κ² λλ” κ²ƒμΌκΉ.

μ΄λ° μƒν™©μ΄ μμ£Ό μΌμ–΄λ‚μ§€λ” μ•μ§€λ§ μ΄λ° λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ” κ·μΉ™μ΄ ν•„μ”ν•λ‹¤. Java μ»΄νμΌλ¬κ°€ μ΄λ¬ν• λ¬Έμ λ¥Ό μ–΄λ–»κ² ν•΄κ²°ν•λ”μ§€ μ•μ•„λ³Έλ‹¤.

μ•„λ λ¬Έμ λ” C++μ μ λ…ν• λ‹¤μ΄μ•„λ¬λ“ λ¬Έμ μ΄λ‹¤. κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λ‘ λ©”μ„λ“λ¥Ό μƒμ†λ°›λ” ν΄λμ¤κ°€ μ΅΄μ¬ν•λ”λ°, μ΄λ• μ–΄λ–¤ λ©”μ„λ“κ°€ μ‚¬μ©λ κΉ?

```java
public interface A {

	default void hello() {
		System.out.println("Hello From A");
	}

}

public interface B {

	default void hello() {
		System.out.println("Hello From B");
	}

}

public class C implements B, A {

	public static void main(String[] args) {
		new C().hello();
	}

}
```

## μ„Έ κ°€μ§€ ν•΄κ²° κ·μΉ™

λ‹¤λ¥Έ ν΄λμ¤λ‚ μΈν„°νμ΄μ¤λ΅λ¶€ν„° κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λ©”μ„λ“λ¥Ό μƒμ†λ°›μ„ λ• μ„Έ κ°€μ§€ κ·μΉ™μ„ λ”°λΌμ•Ό ν•λ‹¤

1. ν΄λμ¤κ°€ ν•­μƒ μ΄κΈ΄λ‹¤. ν΄λμ¤λ‚ μνΌν΄λμ¤μ—μ„ μ •μν• λ©”μ„λ“κ°€ λ””ν΄νΈ λ©”μ„λ“λ³΄λ‹¤ μ°μ„ κ¶μ„ κ°–λ”λ‹¤
   - ν΄λμ¤μ λ©”μ„λ“ κµ¬ν„ > λ””ν΄νΈ λ©”μ„λ“
2. 1λ² κ·μΉ™ μ΄μ™Έμ μƒν™©μ—μ„λ” μ„λΈμΈν„°νμ΄μ¤κ°€ μ΄κΈ΄λ‹¤. μƒμ†κ΄€κ³„λ¥Ό κ°–λ” μΈν„°νμ΄μ¤μ—μ„ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λ©”μ„λ“λ¥Ό μ •μν•  λ•λ” μ„λΈμΈν„°νμ΄μ¤κ°€ μ΄κΈ΄λ‹¤. μ¦‰, μ„ μμ μ—μ„ Bκ°€ Aλ¥Ό μƒμ†λ°›λ”λ‹¤λ©΄ Bκ°€ Aλ¥Ό μ΄κΈ΄λ‹¤
3. λ””ν΄νΈ λ©”μ„λ“μ μ°μ„ μμ„κ°€ κ²°μ •λμ§€ μ•μ•λ‹¤λ©΄ μ—¬λ¬ μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›λ” ν΄λμ¤κ°€ **λ…μ‹μ μΌλ΅ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν•κ³  νΈμ¶**ν•΄μ•Ό ν•λ‹¤

## λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ” μ„λΈμΈν„°νμ΄μ¤κ°€ μ΄κΈ΄λ‹¤

```java
public interface A {

	default void hello() {
		System.out.println("Hello From A");
	}

}

public interface B extends A {

	default void hello() {
		System.out.println("Hello From B");
	}

}

public class C implements B, A {

	public static void main(String[] args) {
		new C().hello();
	}

}
```

μ„ μμ μ—μ„λ” 2λ² κ·μΉ™μ— λ”°λΌ μ„λΈμΈν„°νμ΄μ¤μ λ””ν΄νΈ λ©”μ„λ“κ°€ νΈμ¶λλ‹¤. μ¦‰, Bκ°€ Aλ¥Ό μƒμ†λ°›μ•μΌλ―€λ΅ μ»΄νμΌλ¬λ” Bμ λ©”μ„λ“λ¥Ό μ„ νƒν•λ‹¤.

<center><img src="/assets/images/modernjavainaction/ch13/5.png"></center>

κ·Έλ ‡λ‹¤λ©΄ μ—¬κΈ°μ„ μΈν„°νμ΄μ¤ Aλ¥Ό κµ¬ν„ν• ν΄λμ¤ Dλ¥Ό μ¶”κ°€ν•κ³ , Cκ°€ Dν΄λμ¤λ¥Ό μƒμ†λ°›λ”λ‹¤λ©΄ μ–΄λ–»κ² λ κΉ?

```java
class D implements A {}

class C extends D implements B, A {}
```

1λ² κ·μΉ™μ—μ„ ν΄λμ¤μ λ©”μ„λ“ κµ¬ν„μ΄ μ΄κΈ΄λ‹¤κ³  μ„¤λ…ν•λ”λ°, Dλ” hello() λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ ν•μ§€ μ•μ•κ³  λ‹¨μν A μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν–λ‹¤. λ”°λΌμ„ Dλ” μΈν„°νμ΄μ¤ Aμ λ””ν΄νΈ λ©”μ„λ“ κµ¬ν„μ„ μƒμ†λ°›μ•„ 1λ² κ·μΉ™ μ΄μ™Έμ μƒν™©μ΄ λλ‹¤. ν΄λμ¤λ‚ μνΌν΄λμ¤μ— λ©”μ„λ“ μ •μκ°€ μ—†μ–΄ μ„λΈμΈν„°νμ΄μ¤κ°€ μ„ νƒλμ–΄ μ΄λ²μ—λ„ Bμ λ©”μ„λ“κ°€ νΈμ¶λλ‹¤.

<center><img src="/assets/images/modernjavainaction/ch13/6.png"></center>

μ—¬κΈ°μ„ λ§μ•½ Dκ°€ μΈν„°νμ΄μ¤ Aμ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν•λ‹¤λ©΄ Dμ λ©”μ„λ“κ°€ νΈμ¶λλ‹¤.

```java
public class D implements A {

	@Override
	public void hello() {
		System.out.println("Hello From D");
	}

}
```

<center><img src="/assets/images/modernjavainaction/ch13/7.png"></center>

## μ¶©λ, λ…μ‹μ μΈ λ¬Έμ  ν•΄κ²°

λ§μ•½ 1λ², 2λ² κ·μΉ™μΌλ΅ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μ—†λ” μƒν™©μ€ μ–΄λ–»κ² λ κΉ? μΈν„°νμ΄μ¤ Bκ°€ Aλ¥Ό μƒμ†λ°›μ§€ μ•μ•λ‹¤κ³  κ°€μ •ν•΄ λ³Έλ‹¤. κ·μΉ™μ„ μ μ©ν•  μ μ—†μ–΄ μ»΄νμΌλ¬λ” μ–΄λ–¤ λ©”μ„λ“λ¥Ό νΈμ¶ν•΄μ•Ό ν• μ§€ μ• μ μ—†μ–΄ μ—λ¬κ°€ λ°μƒν•λ‹¤.

```java
public interface A {

	default void hello() {
		System.out.println("Hello From A");
	}

}

public interface B {

	default void hello() {
		System.out.println("Hello From B");
	}

}

public class C implements B, A {

	public static void main(String[] args) {
		new C().hello();
	}

}
```

<center><img src="/assets/images/modernjavainaction/ch13/8.png"></center>

- μ μΌν• ν•΄κ²°μ±…μ€ ν΄λμ¤ Cμ—μ„ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν• λ‹¤μ νΈμ¶ν•λ ¤λ” λ©”μ„λ“λ¥Ό λ…μ‹μ μΌλ΅ μ„ νƒν•΄μ•Ό ν•λ‹¤
  - `X.super.m()`: Xλ” νΈμ¶ν•λ ¤λ” λ©”μ„λ“ mμ μνΌμΈν„°νμ΄μ¤

```java
public class C implements B, A {

	@Override public void hello() {
		B.super.hello(); // λ…μ‹μ μΌλ΅ μΈν„°νμ΄μ¤ Bμ λ©”μ„λ“λ¥Ό μ„ νƒ
	}

}
```

## λ‹¤μ΄μ•„λ¬λ“ λ¬Έμ 

```java
public interface A {

	default void hello() {
		System.out.println("Hello From A");
	}
}

public interface B extends A {

	default void hello() {
		System.out.println("Hello From B");
	}
}

public interface C extends A {

	// μ¶”μƒ λ©”μ„λ“ hello(), λ””ν΄νΈ λ©”μ„λ“ XX
	void hello();
}

public class D implements B, C {

	public static void main(String[] args) {
		new D().hello();
	}

}
```

λ‹¤μμ²λΌ μΈν„°νμ΄μ¤ Cμ— μ¶”μƒ λ©”μ„λ“ hello()κ°€ μ΅΄μ¬ν•λ©΄ μ–΄λ–»κ² λ κΉ? Cλ” Aλ¥Ό μƒμ†λ°›μΌλ―€λ΅ Cμ μ¶”μƒ λ©”μ„λ“ helloκ°€ Aμ λ””ν΄νΈ λ©”μ„λ“λ³΄λ‹¤ μ°μ„ κ¶μ„ κ°–λ”λ‹¤. λ”°λΌμ„ Dμ μ¶”μƒ λ©”μ„λ“κ°€ μ°μ„ κ¶μ„ κ°–λ”λ°, μ—¬κΈ°μ„ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤. ν΄λμ¤ Dκ°€ μ–΄λ–¤ helloλ¥Ό μ‚¬μ©ν• μ§€ λ…μ‹μ μΌλ΅ μ„ νƒν•΄μ„ ν•΄κ²°ν•΄μ•Ό ν•λ‹¤.

<br>

# π“ Summary

- Java 8μ μΈν„°νμ΄μ¤λ” κµ¬ν„ μ½”λ“λ¥Ό ν¬ν•¨ν•λ” λ””ν΄νΈ λ©”μ„λ“, μ •μ  λ©”μ„λ“λ¥Ό μ •μν•  μ μλ‹¤
- λ””ν΄νΈ λ©”μ„λ“μ μ •μλ” default ν‚¤μ›λ“λ΅ μ‹μ‘ν•λ©° μΌλ° ν΄λμ¤ λ©”μ„λ“μ²λΌ λ°”λ””λ¥Ό κ°–λ”λ‹¤
- κ³µκ°λ μΈν„°νμ΄μ¤μ— μ¶”μƒ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ μ†μ¤ νΈν™μ„±μ΄ κΉ¨μ§„λ‹¤
- λ””ν΄νΈ λ©”μ„λ“ λ•λ¶„μ— λΌμ΄λΈλ¬λ¦¬ μ„¤κ³„μκ°€ APIλ¥Ό λ°”κΏ”λ„ κΈ°μ΅΄ λ²„μ „κ³Ό νΈν™μ„±μ„ μ μ§€ν•  μ μλ‹¤
- μ„ νƒν• λ©”μ„λ“μ™€ λ™μ‘ λ‹¤μ¤‘ μƒμ†μ—λ„ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•  μ μλ‹¤
- ν΄λμ¤κ°€ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” μ—¬λ¬ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μƒμ†ν•λ©΄μ„ μƒκΈ°λ” μ¶©λ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” κ·μΉ™μ΄ μλ‹¤
- ν΄λμ¤λ‚ μνΌν΄λμ¤μ— μ •μλ λ©”μ„λ“κ°€ λ‹¤λ¥Έ λ””ν΄νΈ λ©”μ„λ“ μ •μλ³΄λ‹¤ μ°μ„ ν•λ‹¤. μ΄ μ™Έμ μƒν™©μ—μ„λ” μ„λΈμΈν„°νμ΄μ¤μ λ””ν΄νΈ λ©”μ„λ“κ°€ μ„ νƒλλ‹¤
- λ‘ λ©”μ„λ“μ μ‹κ·Έλ‹μ²κ°€ κ°™κ³ , μƒμ†κ΄€κ³„λ΅λ„ μ¶©λ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μ—†μ„ λ•λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” ν΄λμ¤μ—μ„ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν•΄μ„ μ–΄λ–¤ λ””ν΄νΈ λ©”μ„λ“λ¥Ό νΈμ¶ν• μ§€ λ…μ‹μ μΌλ΅ κ²°μ •ν•΄μ•Ό ν•λ‹¤