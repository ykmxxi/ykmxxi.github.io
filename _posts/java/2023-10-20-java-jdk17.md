---
title: "[ìë°”] JDK 17 ê¹Œì§€ì˜ ë³€ì²œì‚¬ by TestCode"
categories: [ìë°”]
tag: ["ìë°”", "Java"]
toc: true
toc_sticky: true
author_profile: false
sidebar:
    nav: "counts"
---

> References
>
> - [ìš°ë¦¬íŒ€ì´ JDK 17ì„ ë„ì…í•œ ì´ìœ ](https://techblog.gccompany.co.kr/%EC%9A%B0%EB%A6%AC%ED%8C%80%EC%9D%B4-jdk-17%EC%9D%84-%EB%8F%84%EC%9E%85%ED%95%9C-%EC%9D%B4%EC%9C%A0-ced2b754cd7)
> - [Java17ì„ ì™œ ê³ ë ¤í•´ì•¼ í• ê¹Œ? (Java version(8~17) ë³„ íŠ¹ì§• ì •ë¦¬)](https://velog.io/@ililil9482/Java17%EC%9D%84-%EA%B3%A0%EB%A0%A4%ED%95%B4%EC%95%BC%ED%95%A0%EA%B9%8C)

2023ë…„ 10ì›” 20ì¼ ê¸°ì¤€ JavaëŠ” í˜„ì¬ 4ê°œì˜ LTS(Long Term Support) ë²„ì „ì„ ì œê³µí•˜ê³  ìˆë‹¤.

- JDK 8
- JDK 11
- JDK 17: Spring Boot 3.0 ë¶€í„° JDK 17 ì´ìƒì„ ì‚¬ìš©í•´ì•¼ í•¨
  - í”„ë¦¬ì½”ìŠ¤ì—ì„œ JDK 17ì„ ë„ì…í•œ ì´ìœ ê°€ ë³¸ ê³¼ì •ì˜ ì›¹ í”„ë¡œê·¸ë˜ë° ë‹¨ê³„ì—ì„œ Spring Boot 3.0 ì´ìƒì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì¸ê±° ê°™ìŒ
- JDK 21

ì²« LTS ë²„ì „ JDK 8 ì´í›„ì¸ 9 ë¶€í„° 11, 11 ë¶€í„° 17 ì‚¬ì´ì˜ ì£¼ìš” ë³€ê²½ì‚¬í•­ì„ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ í•™ìŠµí•˜ê³  ì •ë¦¬í•´ ë³¸ë‹¤.

> JDK 8 ë‚´ìš©ì„ ìì„¸íˆ í™•ì¸í•˜ê³  ì‹¶ìœ¼ë©´ ì•„ë˜ Notion í˜ì´ì§€ë¥¼ ì°¸ê³ í•´ ì£¼ì„¸ìš”
>
> [ëª¨ë˜ ìë°” ì¸ ì•¡ì…˜ Notion](https://www.notion.so/4253c8bfb152455fa7d8a583b737e4e3?pvs=21)

<br>

# ğŸ“Œ JDK 9 ~ JDK 11 ì£¼ìš” ì—…ë°ì´íŠ¸

## **Collection Factory Method ê¸°ëŠ¥ ê°•í™”**

- List, Set, Map ì¸í„°í˜ì´ìŠ¤ì— immutable(ë¶ˆë³€) ìƒì„±í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
  - ë¶ˆë³€ ê°ì²´: í•œë²ˆ í• ë‹¹í•˜ë©´ ë‚´ë¶€ ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.
    - í•˜ì§€ë§Œ ì¬í• ë‹¹ì´ ê°€ëŠ¥í•¨
- ë¶ˆë³€ ì»¬ë ‰ì…˜: ë°ì´í„° ì¶”ê°€, ì‚­ì œ, ìˆ˜ì •ì„ì‹œë„í•˜ë©´ UnsupportedOperationException ë°œìƒ
- ê° ì¸í„°í˜ì´ìŠ¤ì— ë¶ˆë³€ ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•´ì£¼ëŠ” ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€
  - of()
  - emptyList(), emptySet(), emptyMap()ë“± ë‹¤ì–‘í•œ ë¶ˆë³€ ì»¬ë ‰ì…˜ì„ ìƒì„±í•´ì¤Œ

```java
import static org.assertj.core.api.Assertions.assertThat;
import static org.assertj.core.api.Assertions.assertThatThrownBy;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;

import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

public class CollectionFactoryMethodInJdk11Test {

	/**
	 * List.of(): ë¶ˆë³€ ë¦¬ìŠ¤íŠ¸(Immutable List) ìƒì„±
	 * - ê°’ ì¶”ê°€, ì‚­ì œ, ë³€ê²½ ë¶ˆê°€ëŠ¥
	 * - í•˜ì§€ë§Œ ì¬í• ë‹¹ ê°€ëŠ¥
	 */
	@Test
	@DisplayName("List Factory Method")
	void listFactory_test() {
		// given
		List<Integer> list = List.of(1, 2, 3);
		List<Integer> before = List.of(1, 2, 3, 4);

		// when & then
		assertThatThrownBy(() -> list.add(4))
			.isInstanceOf(UnsupportedOperationException.class);
		assertThatThrownBy(() -> list.remove(0))
			.isInstanceOf(UnsupportedOperationException.class);
		assertThatThrownBy(() -> list.set(0, 0))
			.isInstanceOf(UnsupportedOperationException.class);

		before = new ArrayList<>(Arrays.asList(1, 2, 3, 4, 5));
		assertThat(before).containsExactly(1, 2, 3, 4, 5);
	}

	@Test
	@DisplayName("Collectionsê°€ ì œê³µí•˜ëŠ” empty collection")
	void test() {
		// given
		List<Integer> emptyList = Collections.emptyList();

		// when & then
		assertThatThrownBy(() -> emptyList.add(1))
			.isInstanceOf(UnsupportedOperationException.class);
		assertThat(emptyList.isEmpty()).isTrue();
	}

}
```

## Interface private method

- ì¸í„°í˜ì´ìŠ¤ ë‚´ private methodë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ì— ëŒ€í•œ ì„¸ë¶€ ì •ë³´ë¥¼ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤(ì€ë‹‰í™” & ìº¡ìŠí™”)
- private methodë¥¼ ì‚¬ìš©í•˜ë©´ default method ê°„ ì½”ë“œë¥¼ ê³µìœ í•˜ê³  ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤
  - ì½”ë“œ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒì€ ë¤

```java
public interface MyInterface {

	default void publicMethod() {
		// ë‹¤ì–‘í•œ ë¡œì§ ìˆ˜í–‰
		privateMethod();
	}

	default void anotherPublicMethod() {
		// ë‹¤ë¥¸ ë¡œì§ ìˆ˜í–‰
		privateMethod();
	}

	private void privateMethod() {
		// ì¤‘ë³µë˜ëŠ” ë¡œì§
	}

}
```

> ê´€ë ¨ëœ ë‚´ìš© Notion ì •ë¦¬ ì²¨ë¶€
>
> [Chapter 13. ë””í´íŠ¸ ë©”ì„œë“œ(Default Method)](https://www.notion.so/Chapter-13-Default-Method-979c7c64ce7a4f9faf9d713ce7fba2a4?pvs=21)

## Optional í´ë˜ìŠ¤ì˜ ifPresentOrElse() ì¶”ê°€

- ê¸°ì¡´ Optionalì˜ ifPresent()ëŠ” Optional ê°ì²´ê°€ ê°’ì„ ë‹´ê³  ìˆëŠ” ê²½ìš°ë§Œ ì²˜ë¦¬
- ifPresentOrElse()ëŠ” í•´ë‹¹ ê°ì²´ê°€ ê°’ì´ ì—†ì„ ê²½ìš° ì²˜ë¦¬í•  ë‚´ìš©ê¹Œì§€ ì •ì˜ê°€ ê°€ëŠ¥
  - ifPresent() + ì—†ì„ ë•Œ ëŒ€ì²˜ë²•

> ê´€ë ¨ëœ ë‚´ìš© Notion ì •ë¦¬ ì²¨ë¶€
>
> [Chapter 11. null ëŒ€ì‹  Optional í´ë˜ìŠ¤](https://www.notion.so/Chapter-11-null-Optional-0ff4f5c76c214e379eb50f56cbf307bc?pvs=21)

## ì‹ ê·œ ë¬¸ìì—´ method

- isBlank(): empty() + ê³µë°±ì˜ ë¬¸ìì—´ì´ ë“¤ì–´ì˜¤ë©´ trueë¥¼ ë°˜í™˜
- lines(): ê°œí–‰ë¬¸ì(\n, \r, \r\n)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì—¬ëŸ¬ ì¤„ì˜ ë¬¸ìì—´ì„ Stream<String>ìœ¼ë¡œ ë°˜í™˜
- strip(): ë¬¸ìì—´ ì• ë’¤ì˜ ê³µë°±ì„ ì œê±°
  - trim()ê³¼ì˜ ì°¨ì´ì : trim()ì€ â€˜\u0020â€™ ì´í•˜ì˜ ê³µë°±ë§Œë“¤ ì œê±°í•˜ì§€ë§Œ, strip()ì€ ìœ ë‹ˆì½”ë“œì˜ ê³µë°±ë“¤ì„ ëª¨ë‘ ì œê±°
  - ìœ ë‹ˆì½”ë“œì—ëŠ” ìŠ¤í˜ì´ìŠ¤(â€™\u0020â€™), íƒ­(â€™\u0009â€™) ì™¸ì—ë„ ë” ë§ì€ ì¢…ë¥˜ì˜ ê³µë°± ë¬¸ìë“¤ì´ ì¡´ì¬í•˜ëŠ”ë°, strip()ì„ ì‚¬ìš©í•˜ë©´ ë” ë§ì€ ì¢…ë¥˜ì˜ ê³µë°±ì„ ì œê±°í•  ìˆ˜ ìˆìŒ
- stripLeading(): ë¬¸ìì—´ ì•ì˜ ê³µë°±ì„ ì œê±°
- stripTrailing(): ë¬¸ìì—´ ë’¤ì˜ ê³µë°±ì„ ì œê±°
- repeat(): ì¸ìˆ˜ë¡œ ë°›ì€ count ìˆ˜ ë§Œí¼ ë¬¸ìì—´ì„ ë°˜ë³µí•´ ë°˜í™˜

```java
import static org.assertj.core.api.Assertions.assertThat;

import java.util.List;

import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

class StringMethodInJdk11Test {

	/**
	 * isBlank(): empty() + ê³µë°±ì˜ ë¬¸ìì—´ì´ ë“¤ì–´ì˜¤ë©´ trueë¥¼ ë°˜í™˜
	 */
	@Test
	@DisplayName("ì‹ ê·œ ë¬¸ìì—´ Method ê¸°ëŠ¥: isBlank()")
	void isBlank_test() {
		String empty = "";
		String whitespaces = "    ";

		assertThat(empty.isBlank()).isTrue();
		assertThat(whitespaces.isBlank()).isTrue();
	}

	/**
	 * lines(): ê°œí–‰ë¬¸ì(\\n, \\r, \\r\\n)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì—¬ëŸ¬ ì¤„ì˜ ë¬¸ìì—´ì„ Stream<String>ìœ¼ë¡œ ë°˜í™˜
	 */
	@Test
	@DisplayName("ì‹ ê·œ ë¬¸ìì—´ Method ê¸°ëŠ¥: lines()")
	void lines_test() {
		// given
		String multiLine = "Hello\\nWorld\\rJDK11\\r\\nCOOL";

		// when
		List<String> result = multiLine.lines()
									   .map(String::trim)
									   .toList();

		// then
		assertThat(result).containsExactly("Hello", "World", "JDK11", "COOL");
		System.out.println("lines() result to list = " + result);
	}

	/**
	 * strip(): ë¬¸ìì—´ ì• ë’¤ì˜ ê³µë°±ë“¤ì„ ì œê±°
	 * - ìŠ¤í˜ì´ìŠ¤('\\u0020') ì´í•˜ ê³µë°±ë§Œ ì œê±°í•˜ëŠ” trim() ë³´ë‹¤ ë” ë§ì€ ê³µë°± ë¬¸ìë“¤ì„ ì œê±°í•  ìˆ˜ ìˆìŒ
	 * stripLeading(): ë¬¸ìì—´ ì•ì˜ ê³µë°±ë§Œ ì œê±°
	 * stripTrailing(): ë¬¸ìì—´ ë’¤ì˜ ê³µë°±ë§Œ ì œê±°
	 */
	@Test
	@DisplayName("ì‹ ê·œ ë¬¸ìì—´ Method ê¸°ëŠ¥: strip()")
	void strip_test() {
		// given
		String input = "  Hello\\u2003"; // \\u2003: Em Space ê³µë°±

		// when
		String strip = input.strip();
		String stripLeading = input.stripLeading();
		String stripTrailing = input.stripTrailing();

		// then
		assertThat(strip).isEqualTo("Hello");
		assertThat(stripLeading).isEqualTo("Hello\\u2003");
		assertThat(stripTrailing).isEqualTo("  Hello");
	}

	/**
	 * repeat(): ì¸ìˆ˜ë¡œ ë°›ì€ count ìˆ˜ ë§Œí¼ ë¬¸ìì—´ì„ ë°˜ë³µí•´ ë°˜í™˜
	 */
	@Test
	@DisplayName("ì‹ ê·œ ë¬¸ìì—´ Method ê¸°ëŠ¥: repeat()")
	void repeat_test() {
		// given
		String abc = "abc";

		// when
		String result = abc.repeat(2);

		// then
		assertThat(result).isEqualTo("abcabc");
	}

}
```

<center><img src="/assets/images/java/jdk17/1.png"></center>

<br>

# ğŸ“Œ JDK 12 ~ JDK 17 ì£¼ìš” ì—…ë°ì´íŠ¸

## Record Data Class

```java
public ë ˆì½”ë“œëª…(í—¤ë”) {
	ë°”ë””
}
```

- ë¶ˆë³€(immutable) ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ìƒˆë¡œìš´ ìœ í˜•ì˜ í´ë˜ìŠ¤
  - ë¶ˆë³€ ê°ì²´ì´ê¸° ë•Œë¬¸ì— ëª¨ë“  ê°’ì€ ìƒì„±ìë¥¼ í†µí•´ ì£¼ì…í•´ì•¼ í•œë‹¤
  - abstractë¡œ ì„ ì–¸í•  ìˆ˜ ì—†ìŒ
- ê¸°ì¡´ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼ í–ˆë˜ toString(), equals(), hashcode() ë©”ì„œë“œë¥¼ ìë™ìœ¼ë¡œ êµ¬í˜„í•´ì£¼ë©°, ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¥¼ ì´ˆê¸°í™”í•´ì£¼ëŠ” ìƒì„±ìê°€ ìƒì„±ëœë‹¤
- ëª¨ë“  í•„ë“œê°€ private final ë¡œ ì„ ì–¸ë˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì„ ìˆ˜ ì—†ìŒ, ë‹¤ë§Œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì€ ê°€ëŠ¥
  - No extends, Yes implements
- ë°”ë”” ë¶€ë¶„ì— ì œê³µë˜ëŠ” ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ë©”ì„œë“œë¥¼ ì¶”ê°€ë¡œ ì‘ì„±í•  ìˆ˜ ìˆìŒ

ì´ì œë¶€í„° name, ageë¥¼ í•„ë“œë¡œ ê°–ëŠ” Memberë¥¼ ë ˆì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë³€í™˜í•´ë³¸ë‹¤.

```java
public class Member {

	private final String name;
	private final int age;

	public Member(String name, int age) {
		this.name = name;
		this.age = age;
	}

	public String getName() {
		return name;
	}

	public int getAge() {
		return age;
	}

	@Override
	public boolean equals(Object o) {
		if (this == o) {
			return true;
		}
		if (o == null || getClass() != o.getClass()) {
			return false;
		}
		Member member = (Member)o;
		return age == member.age && Objects.equals(name, member.name);
	}

	@Override
	public int hashCode() {
		return Objects.hash(name, age);
	}

	@Override
	public String toString() {
		return "Member{" +
			"name='" + name + '\\'' +
			", age=" + age +
			'}';
	}

}
```

ë ˆì½”ë“œë¡œ ë³€í™˜í•˜ë©´â€¦

```java
public record Member(String name, int age) {
}
```

- ë§ˆë²•ì²˜ëŸ¼ ë‹¨ 2ì¤„ë¡œ ëë‚œë‹¤
- toString()ì²˜ëŸ¼ ì œê³µë˜ëŠ” ë©”ì„œë“œë¥¼ ê¸°ì¡´ í´ë˜ìŠ¤ì²˜ëŸ¼ ì›í•˜ëŠ” ëŒ€ë¡œ ì¬ì •ì˜ ê°€ëŠ¥

```java
public record Member(String name, int age) {

	@Override
	public String toString() {
		return "ì´ë¦„ = " + name + ", ë‚˜ì´ = " + age;
	}

}
```

## Record Data Class í…ŒìŠ¤íŠ¸í•´ë³´ê¸°

- ì£¼ì˜!! ë ˆì½”ë“œì—ì„œ getterë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” í•„ë“œëª…ë§Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤(like ë¹Œë” íŒ¨í„´)
  - getName()ì´ ì•„ë‹ˆë¼ name()

```java
import static org.assertj.core.api.Assertions.assertThat;

import org.junit.jupiter.api.Test;

class MemberTest {

	@Test
	void record_test() {
		// given
		Member member1 = new Member("ì´ë¦„", 10);
		Member member2 = new Member("ì´ë¦„", 10);
		Member member3 = new Member("ì´ë¦„", 20);

		// when
		String memberName = member1.name();
		int memberAge = member1.age();

		// then
		// getter í…ŒìŠ¤íŠ¸
		assertThat(memberName).isEqualTo("ì´ë¦„");
		assertThat(memberAge).isEqualTo(10);

		// equals() & hashcode() í…ŒìŠ¤íŠ¸
		assertThat(member1).isEqualTo(member2);
		assertThat(member1).isNotEqualTo(member3);

		System.out.println(member1);
	}

}
```

<center><img src="/assets/images/java/jdk17/2.png"></center>